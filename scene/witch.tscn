[gd_scene load_steps=44 format=3 uid="uid://begy6n0eesvho"]

[ext_resource type="Script" uid="uid://d3wq16adqp7os" path="res://src/witch.gd" id="1_keajo"]
[ext_resource type="Texture2D" uid="uid://j7gvji04n2sv" path="res://file/character/witch/B_witch_charge.png" id="2_6f1nt"]
[ext_resource type="Texture2D" uid="uid://bdkqrno33jyl5" path="res://file/character/witch/B_witch_attack.png" id="3_tvwe5"]
[ext_resource type="Texture2D" uid="uid://cjymbhnv3o585" path="res://file/character/witch/WitchDeath.png" id="4_6f1nt"]
[ext_resource type="Texture2D" uid="uid://d1nlt4ouxb0q3" path="res://file/character/witch/B_witch_run.png" id="5_k7u0d"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_xxx6b"]
size = Vector2(20, 40)

[sub_resource type="AtlasTexture" id="AtlasTexture_dugwr"]
atlas = ExtResource("3_tvwe5")
region = Rect2(0, 0, 104, 46)

[sub_resource type="AtlasTexture" id="AtlasTexture_2nm3r"]
atlas = ExtResource("3_tvwe5")
region = Rect2(0, 46, 104, 46)

[sub_resource type="AtlasTexture" id="AtlasTexture_xxx6b"]
atlas = ExtResource("3_tvwe5")
region = Rect2(0, 92, 104, 46)

[sub_resource type="AtlasTexture" id="AtlasTexture_k72ih"]
atlas = ExtResource("3_tvwe5")
region = Rect2(0, 138, 104, 46)

[sub_resource type="AtlasTexture" id="AtlasTexture_ijlss"]
atlas = ExtResource("3_tvwe5")
region = Rect2(0, 184, 104, 46)

[sub_resource type="AtlasTexture" id="AtlasTexture_jpfx0"]
atlas = ExtResource("3_tvwe5")
region = Rect2(0, 230, 104, 46)

[sub_resource type="AtlasTexture" id="AtlasTexture_a37hk"]
atlas = ExtResource("3_tvwe5")
region = Rect2(0, 276, 104, 46)

[sub_resource type="AtlasTexture" id="AtlasTexture_ql7hi"]
atlas = ExtResource("3_tvwe5")
region = Rect2(0, 322, 104, 46)

[sub_resource type="AtlasTexture" id="AtlasTexture_6mj5x"]
atlas = ExtResource("3_tvwe5")
region = Rect2(0, 368, 104, 46)

[sub_resource type="AtlasTexture" id="AtlasTexture_dnpe4"]
atlas = ExtResource("2_6f1nt")
region = Rect2(0, 0, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_6t0tk"]
atlas = ExtResource("2_6f1nt")
region = Rect2(0, 48, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_0svsn"]
atlas = ExtResource("2_6f1nt")
region = Rect2(0, 96, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_acr5l"]
atlas = ExtResource("2_6f1nt")
region = Rect2(0, 144, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_am5vy"]
atlas = ExtResource("2_6f1nt")
region = Rect2(0, 192, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_tvwe5"]
atlas = ExtResource("4_6f1nt")
region = Rect2(0, 0, 32, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_k7u0d"]
atlas = ExtResource("4_6f1nt")
region = Rect2(0, 48, 32, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_ntri0"]
atlas = ExtResource("4_6f1nt")
region = Rect2(0, 96, 32, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_rxfgx"]
atlas = ExtResource("4_6f1nt")
region = Rect2(0, 144, 32, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_emb3j"]
atlas = ExtResource("4_6f1nt")
region = Rect2(0, 192, 32, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_4lhor"]
atlas = ExtResource("4_6f1nt")
region = Rect2(0, 240, 32, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_ggje5"]
atlas = ExtResource("4_6f1nt")
region = Rect2(0, 288, 32, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_exnwx"]
atlas = ExtResource("4_6f1nt")
region = Rect2(0, 336, 32, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_mud5y"]
atlas = ExtResource("4_6f1nt")
region = Rect2(0, 384, 32, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_uxgy6"]
atlas = ExtResource("4_6f1nt")
region = Rect2(0, 432, 32, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_wg1bx"]
atlas = ExtResource("4_6f1nt")
region = Rect2(0, 480, 32, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_8bi2m"]
atlas = ExtResource("5_k7u0d")
region = Rect2(0, 0, 32, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_hidno"]
atlas = ExtResource("5_k7u0d")
region = Rect2(0, 48, 32, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_dhq2u"]
atlas = ExtResource("5_k7u0d")
region = Rect2(0, 96, 32, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_vud67"]
atlas = ExtResource("5_k7u0d")
region = Rect2(0, 144, 32, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_5ydnn"]
atlas = ExtResource("5_k7u0d")
region = Rect2(0, 192, 32, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_4a3c8"]
atlas = ExtResource("5_k7u0d")
region = Rect2(0, 240, 32, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_img0r"]
atlas = ExtResource("5_k7u0d")
region = Rect2(0, 288, 32, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_lh3po"]
atlas = ExtResource("5_k7u0d")
region = Rect2(0, 336, 32, 48)

[sub_resource type="SpriteFrames" id="SpriteFrames_k72ih"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_dugwr")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2nm3r")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xxx6b")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_k72ih")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ijlss")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jpfx0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_a37hk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ql7hi")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6mj5x")
}],
"loop": false,
"name": &"attack",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_dnpe4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6t0tk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0svsn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_acr5l")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_am5vy")
}],
"loop": false,
"name": &"charge",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_tvwe5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_k7u0d")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ntri0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rxfgx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_emb3j")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4lhor")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ggje5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_exnwx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mud5y")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_uxgy6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wg1bx")
}],
"loop": false,
"name": &"death",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_8bi2m")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hidno")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dhq2u")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vud67")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5ydnn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4a3c8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_img0r")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lh3po")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_8bi2m")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hidno")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dhq2u")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vud67")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5ydnn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4a3c8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_img0r")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lh3po")
}],
"loop": true,
"name": &"run",
"speed": 5.0
}]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_ijlss"]
bg_color = Color(0, 0, 0, 1)
corner_radius_top_left = 5
corner_radius_top_right = 5
corner_radius_bottom_right = 5
corner_radius_bottom_left = 5
anti_aliasing = false

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_jpfx0"]
bg_color = Color(0.3285419, 0.68161446, 0.51560247, 1)
corner_radius_top_left = 5
corner_radius_top_right = 5
corner_radius_bottom_right = 5
corner_radius_bottom_left = 5
anti_aliasing = false

[sub_resource type="RectangleShape2D" id="RectangleShape2D_a37hk"]
size = Vector2(70, 37)

[node name="Witch" type="Node2D"]
script = ExtResource("1_keajo")
AnimationPos = Dictionary[String, Vector2]({
"AttackLeft": Vector2(-84, -25),
"AttackRight": Vector2(-20, -25),
"Charge": Vector2(-24, -30),
"Idle": Vector2(-16, -24),
"Run": Vector2(-16, -24)
})
_animations_path = NodePath("UnitArea/Animations")
wait_attack_timer_path = NodePath("UnitArea/WaitAttackTimer")
_unit_area_path = NodePath("UnitArea")
_unit_collision_path = NodePath("UnitArea/CollisionShape2D")
_attack_area_path = NodePath("AttackArea")
_attack_collision_path = NodePath("AttackArea/CollisionShape2D")
metadata/_custom_type_script = "uid://b1aemje2io0qa"

[node name="UnitArea" type="Area2D" parent="."]
collision_layer = 0
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="UnitArea"]
position = Vector2(0, -2)
shape = SubResource("RectangleShape2D_xxx6b")

[node name="Animations" type="AnimatedSprite2D" parent="UnitArea"]
position = Vector2(-16, -24)
sprite_frames = SubResource("SpriteFrames_k72ih")
animation = &"death"
centered = false

[node name="WaitAttackTimer" type="Timer" parent="UnitArea"]
one_shot = true

[node name="ProgressBar" type="ProgressBar" parent="UnitArea"]
offset_left = -22.0
offset_top = -32.0
offset_right = 23.0
offset_bottom = -27.0
theme_override_styles/background = SubResource("StyleBoxFlat_ijlss")
theme_override_styles/fill = SubResource("StyleBoxFlat_jpfx0")
value = 50.0
show_percentage = false
metadata/_edit_use_anchors_ = true

[node name="AttackArea" type="Area2D" parent="."]
collision_layer = 0
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="AttackArea"]
position = Vector2(45, 2.5)
shape = SubResource("RectangleShape2D_a37hk")

[connection signal="animation_changed" from="UnitArea/Animations" to="UnitArea" method="_on_animations_animation_changed"]
[connection signal="animation_finished" from="UnitArea/Animations" to="UnitArea" method="_on_animations_animation_finished"]
